---
layout: none
---

<!DOCTYPE html>
<html>
<head>
  <title>Extracted Links</title>
  <script src="https://cdn.jsdelivr.net/npm/gridjs/dist/gridjs.umd.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/gridjs/dist/theme/mermaid.min.css" rel="stylesheet">
  <style>
    #grid {
      margin: 20px;
    }
  </style>
</head>
<body>
  <h1>Extracted Links</h1>
  <div id="grid"></div>

  <script>
    // Collect data from Liquid-generated variables
    const tableData = [
      {% assign excluded_urls = "https://twitter.com/tomcritchlow/,https://www.linkedin.com/in/tomcritchlow/,https://www.are.na/tom-critchlow/index,https://calendly.com/tomcritchlow," | split: ',' %}
      {% assign all_links = "" | split: "" %}

      {% for post in site.posts %}
        {% assign content = post.output %}
        {% assign links = content | split:'href="' %}
        {% for segment in links offset:1 %}
          {% assign link = segment | split:'"' | first %}
          {% if link contains '://' %}
          {% unless link contains 'tomcritchlow.com' or excluded_urls contains link or all_links contains link %}
            {% assign all_links = all_links | push: link %}
            [
              "{{ link }}",
              "{{ post.title | escape }}",
              "{{ post.date | date: '%Y-%m-%d' }}"
            ],
          {% endunless %}
          {% endif %}
        {% endfor %}
      {% endfor %}

      {% for post in site.library %}
        {% assign content = post.output %}
        {% assign links = content | split:'href="' %}
        {% for segment in links offset:1 %}
          {% assign link = segment | split:'"' | first %}
          {% if link contains '://' %}
          {% unless link contains 'tomcritchlow.com' or excluded_urls contains link or all_links contains link %}
            {% assign all_links = all_links | push: link %}
            [
              "{{ link }}",
              "{{ post.title | escape }}",
              "{{ post.date_saved | date: '%Y-%m-%d' }}"
            ],
          {% endunless %}
          {% endif %}
        {% endfor %}
      {% endfor %}
    ];

    // Initialize Grid.js
    new gridjs.Grid({
      columns: [
        { name: 'Link', formatter: (cell) => gridjs.html(`<a href="${cell}" target="_blank">${cell}</a>`) },
        { name: 'Source Post' },
        { name: 'Date' }
      ],
      data: tableData,
      search: true,
      pagination: false,
      sort: true,
    }).render(document.getElementById('grid'));
  </script>
</body>
</html>
